[{"/home/adif/Project/picktronics/client/src/index.js":"1","/home/adif/Project/picktronics/client/src/components/App.js":"2","/home/adif/Project/picktronics/client/src/reducers/index.js":"3","/home/adif/Project/picktronics/client/src/reducers/authReducer.js":"4","/home/adif/Project/picktronics/client/src/actions/types.js":"5","/home/adif/Project/picktronics/client/src/components/Header.js":"6","/home/adif/Project/picktronics/client/src/history.js":"7","/home/adif/Project/picktronics/client/src/components/Home.js":"8","/home/adif/Project/picktronics/client/src/components/GenericNotFound.js":"9","/home/adif/Project/picktronics/client/src/components/auth/SignUp.js":"10","/home/adif/Project/picktronics/client/src/components/auth/SignIn.js":"11","/home/adif/Project/picktronics/client/src/components/profile/Profile.js":"12","/home/adif/Project/picktronics/client/src/components/products/ProductUser.js":"13","/home/adif/Project/picktronics/client/src/components/products/ProductShow.js":"14","/home/adif/Project/picktronics/client/src/components/products/ProductUpdate.js":"15","/home/adif/Project/picktronics/client/src/components/products/ProductCreate.js":"16","/home/adif/Project/picktronics/client/src/components/orders/OrderShow.js":"17","/home/adif/Project/picktronics/client/src/components/orders/OrderUser.js":"18","/home/adif/Project/picktronics/client/src/hocs/PrivateRoute.js":"19","/home/adif/Project/picktronics/client/src/hocs/UnPrivateRoute.js":"20","/home/adif/Project/picktronics/client/src/reducers/orderReducer.js":"21","/home/adif/Project/picktronics/client/src/reducers/productReducer.js":"22","/home/adif/Project/picktronics/client/src/actions/index.js":"23","/home/adif/Project/picktronics/client/src/components/Loader.js":"24","/home/adif/Project/picktronics/client/src/components/auth/AuthForm.js":"25","/home/adif/Project/picktronics/client/src/components/profile/ProductsShow.js":"26","/home/adif/Project/picktronics/client/src/components/profile/OrdersShow.js":"27","/home/adif/Project/picktronics/client/src/components/profile/HelpShow.js":"28","/home/adif/Project/picktronics/client/src/components/profile/ProfileShow.js":"29","/home/adif/Project/picktronics/client/src/components/products/ProductForm.js":"30","/home/adif/Project/picktronics/client/src/api/axiosBase.js":"31"},{"size":555,"mtime":1609422883983,"results":"32","hashOfConfig":"33"},{"size":3055,"mtime":1609517068667,"results":"34","hashOfConfig":"33"},{"size":283,"mtime":1609151599989,"results":"35","hashOfConfig":"33"},{"size":1735,"mtime":1608135101778,"results":"36","hashOfConfig":"33"},{"size":901,"mtime":1609213200408,"results":"37","hashOfConfig":"33"},{"size":1900,"mtime":1609476006270,"results":"38","hashOfConfig":"33"},{"size":88,"mtime":1608026270141,"results":"39","hashOfConfig":"33"},{"size":2227,"mtime":1609493097360,"results":"40","hashOfConfig":"33"},{"size":534,"mtime":1609437740478,"results":"41","hashOfConfig":"33"},{"size":730,"mtime":1608909320149,"results":"42","hashOfConfig":"33"},{"size":730,"mtime":1608909326600,"results":"43","hashOfConfig":"33"},{"size":3609,"mtime":1609566182249,"results":"44","hashOfConfig":"33"},{"size":2577,"mtime":1609517648783,"results":"45","hashOfConfig":"33"},{"size":5080,"mtime":1609517617474,"results":"46","hashOfConfig":"33"},{"size":1408,"mtime":1609571250228,"results":"47","hashOfConfig":"33"},{"size":710,"mtime":1609496233990,"results":"48","hashOfConfig":"33"},{"size":5671,"mtime":1609569550391,"results":"49","hashOfConfig":"33"},{"size":2475,"mtime":1609519562455,"results":"50","hashOfConfig":"33"},{"size":424,"mtime":1609426705889,"results":"51","hashOfConfig":"33"},{"size":400,"mtime":1609429301760,"results":"52","hashOfConfig":"33"},{"size":1102,"mtime":1609519452495,"results":"53","hashOfConfig":"33"},{"size":1108,"mtime":1609487055250,"results":"54","hashOfConfig":"33"},{"size":4342,"mtime":1609571400676,"results":"55","hashOfConfig":"33"},{"size":129,"mtime":1609437014776,"results":"56","hashOfConfig":"33"},{"size":2095,"mtime":1608135505240,"results":"57","hashOfConfig":"33"},{"size":1740,"mtime":1609438375373,"results":"58","hashOfConfig":"33"},{"size":1651,"mtime":1609403777288,"results":"59","hashOfConfig":"33"},{"size":362,"mtime":1609565359746,"results":"60","hashOfConfig":"33"},{"size":921,"mtime":1609405896517,"results":"61","hashOfConfig":"33"},{"size":3880,"mtime":1609566131440,"results":"62","hashOfConfig":"33"},{"size":81,"mtime":1608960947725,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"xb06rg",{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"66"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/adif/Project/picktronics/client/src/index.js",[],["128","129"],"/home/adif/Project/picktronics/client/src/components/App.js",[],"/home/adif/Project/picktronics/client/src/reducers/index.js",[],"/home/adif/Project/picktronics/client/src/reducers/authReducer.js",[],"/home/adif/Project/picktronics/client/src/actions/types.js",[],"/home/adif/Project/picktronics/client/src/components/Header.js",[],"/home/adif/Project/picktronics/client/src/history.js",[],"/home/adif/Project/picktronics/client/src/components/Home.js",[],"/home/adif/Project/picktronics/client/src/components/GenericNotFound.js",[],"/home/adif/Project/picktronics/client/src/components/auth/SignUp.js",[],"/home/adif/Project/picktronics/client/src/components/auth/SignIn.js",[],"/home/adif/Project/picktronics/client/src/components/profile/Profile.js",[],"/home/adif/Project/picktronics/client/src/components/products/ProductUser.js",[],"/home/adif/Project/picktronics/client/src/components/products/ProductShow.js",[],"/home/adif/Project/picktronics/client/src/components/products/ProductUpdate.js",[],"/home/adif/Project/picktronics/client/src/components/products/ProductCreate.js",[],"/home/adif/Project/picktronics/client/src/components/orders/OrderShow.js",["130"],"import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchOrder, createPayment } from '../../actions';\nimport StripeCheckout from 'react-stripe-checkout';\nimport Loader from '../Loader';\nimport history from '../../history';\n\nconst OrderShow = (props) => {\n  const [active, setActive] = useState(true); // To control tab conditions\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [isFetched, setIsFetched] = useState(false);\n\n  useEffect(() => {\n    const fetchOrderProduct = async () => {\n      await props.fetchOrder(props.match.params.id);\n      setIsFetched(true);\n    };\n\n    fetchOrderProduct();\n  }, []);\n\n  useEffect(() => {\n    if (isFetched && props.order.data.status === 'created') {\n      const findTimeLeft = () => {\n        const msLeft = new Date(props.order.data.expiresAt) - new Date();\n        setTimeLeft(Math.round(msLeft / 1000));\n      };\n\n      findTimeLeft();\n      const timer = setInterval(findTimeLeft, 1000);\n\n      return () => {\n        clearInterval(timer);\n      };\n    }\n  });\n\n  const renderMessage = () => {\n    const { status } = props.order.data;\n    if (status === 'created' && timeLeft >= 1) {\n      return (\n        <div className=\"ui icon large warning message\">\n          <i className=\"clock icon\" />\n          <div className=\"content\">\n            <div className=\"header\">Time left to pay:</div>\n            <p>{timeLeft} seconds</p>\n          </div>\n        </div>\n      );\n    } else if (status === 'complete') {\n      return (\n        <div className=\"ui icon large positive message\">\n          <i className=\"check circle icon\" />\n          <div className=\"content\">\n            <div className=\"header\">Payment succesful!</div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"ui icon large negative message\">\n        <i className=\"clock icon\" />\n        <div className=\"content\">\n          <div className=\"header\">Time left to pay:</div>\n          <p>Expired</p>\n        </div>\n      </div>\n    );\n  };\n\n  const renderStep = () => {\n    return (\n      <>\n        <div\n          className={`item step ${active ? 'active' : null}`}\n          onClick={() => setActive(true)}\n        >\n          <i className=\"shopping basket icon\" />\n          <div className=\"content\">\n            <div className=\"title\">Order</div>\n            <div className=\"description\">Your order description</div>\n          </div>\n        </div>\n        <div\n          className={`item step ${!active ? 'active' : null}`}\n          onClick={() => setActive(false)}\n        >\n          <i className=\"payment icon\" />\n          <div className=\"content\">\n            <div className=\"title\">Payment</div>\n            <div className=\"description\">Select your payment method</div>\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  const renderSegment = () => {\n    const { id, product, status } = props.order.data;\n    const { email } = props.user;\n    return (\n      <>\n        <div\n          className={`ui bottom attached tab segment ${\n            active ? 'active' : null\n          }`}\n        >\n          <h4 className=\"ui horizontal divider header\">\n            <i className=\"sticky note icon\"></i>\n            Description\n          </h4>\n          <table className=\"ui definition table\">\n            <tbody>\n              <tr>\n                <td className=\"two wide column\">Order ID</td>\n                <td style={{ textTransform: 'uppercase' }}>{id}</td>\n              </tr>\n              <tr>\n                <td>Title</td>\n                <td>{product.title}</td>\n              </tr>\n              <tr>\n                <td>Price</td>\n                <td>{product.price}</td>\n              </tr>\n              <tr>\n                <td>Status</td>\n                <td style={{ textTransform: 'capitalize' }}>{status}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div\n          className={`ui bottom attached tab segment center aligned ${\n            !active ? 'active' : null\n          }`}\n        >\n          <div className=\"ui hidden divider\"></div>\n          <StripeCheckout\n            token={({ id }) => handlePayment(id)}\n            stripeKey=\"pk_test_51HrdKXJldKyy9vKOCZsGaaTXtC553fEsod3ct12DNquYXZXAWDc3YiBekQc9V8belRNakS6G6Ke4gsPxhwo1r2F2003H0RdjZR\"\n            amount={product.price * 100}\n            email={email}\n            className={`large ui button ${\n              status === 'complete' || status === 'cancelled'\n                ? 'disabled'\n                : null\n            }`}\n          />\n        </div>\n      </>\n    );\n  };\n\n  const handlePayment = async (id) => {\n    await props.createPayment({ token: id, orderId: props.order.data.id });\n    window.location.reload();\n  };\n\n  if (props.order.error.length > 0) {\n    history.push('/');\n  }\n\n  if (!isFetched) {\n    return <Loader />;\n  }\n\n  if (props.order.data.status === 'created' && timeLeft < 0) {\n    history.push(`/products/${props.order.data.product.id}`);\n  }\n\n  return (\n    <>\n      <div className=\"ui hidden divider\"></div>\n      {!props.order ? (\n        <Loader />\n      ) : (\n        <div className=\"ui container\">\n          {renderMessage()}\n          <div className=\"ui two top attached tabular menu steps\">\n            {renderStep()}\n          </div>\n          {renderSegment()}\n        </div>\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { data, error } = state.orders;\n  return {\n    user: state.auth.user,\n    order: {\n      data: data[ownProps.match.params.id],\n      error,\n    },\n  };\n};\n\nexport default connect(mapStateToProps, { fetchOrder, createPayment })(\n  OrderShow\n);\n","/home/adif/Project/picktronics/client/src/components/orders/OrderUser.js",[],"/home/adif/Project/picktronics/client/src/hocs/PrivateRoute.js",[],"/home/adif/Project/picktronics/client/src/hocs/UnPrivateRoute.js",[],"/home/adif/Project/picktronics/client/src/reducers/orderReducer.js",[],"/home/adif/Project/picktronics/client/src/reducers/productReducer.js",[],"/home/adif/Project/picktronics/client/src/actions/index.js",[],"/home/adif/Project/picktronics/client/src/components/Loader.js",[],"/home/adif/Project/picktronics/client/src/components/auth/AuthForm.js",[],"/home/adif/Project/picktronics/client/src/components/profile/ProductsShow.js",[],"/home/adif/Project/picktronics/client/src/components/profile/OrdersShow.js",[],"/home/adif/Project/picktronics/client/src/components/profile/HelpShow.js",[],"/home/adif/Project/picktronics/client/src/components/profile/ProfileShow.js",[],"/home/adif/Project/picktronics/client/src/components/products/ProductForm.js",[],"/home/adif/Project/picktronics/client/src/api/axiosBase.js",[],{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","severity":1,"message":"136","line":20,"column":6,"nodeType":"137","endLine":20,"endColumn":8,"suggestions":"138"},"no-native-reassign",["139"],"no-negated-in-lhs",["140"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["141"],"no-global-assign","no-unsafe-negation",{"desc":"142","fix":"143"},"Update the dependencies array to be: [props]",{"range":"144","text":"145"},[660,662],"[props]"]